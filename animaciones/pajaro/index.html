<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Animaci√≥n sprites</title>
    <style>
        body {
            width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        canvas {
            background-color: cyan;
            border: solid yellow 3px;
        }
    </style>
    <script>

        var canvas, ctx, size;
        window.onload = function () {
            canvas = document.getElementById("canvas");

            if (canvas && canvas.getContext) {
                ctx = canvas.getContext("2d");
                if (ctx) {

                    var sprite = new Image();
                    sprite.src = "ave.png";
                    sprite.onload = function(){
                    let numColums=5;
                    let numRows = 3;

                    let frameWidth = sprite.width / numColums;
                    let frameHeiht = sprite.height / numRows;
                    
                    let curretFrame = 0;
                    let dx = 10, x=0;
                    let dy = 40, y = 30;

                    setInterval(function(){
                        curretFrame++;

                        x+=dx;

                        if(x>canvas.width){
                            y += dy;
                            x=0;
                            size = Math.random()+0.05;

                        }
    
                        let maxFrame = numColums*numRows -2;

                        if(curretFrame > maxFrame){
                            curretFrame = 0;
                        }

                        let column = curretFrame%numColums;
                        let row = Math.floor(curretFrame/ numColums);

                        ctx.clearRect(0,0, canvas.width, canvas.height);

                        ctx.drawImage(sprite,column*frameWidth, row*frameHeiht, frameWidth,frameHeiht, x,y, frameWidth*size,frameHeiht*size);




                    }, 100);
  


                }

            }





        }
    }




    </script>






</head>

<body>
    <canvas id="canvas" width="960px" height="600px">
        Tu navegador no soporta CANVAS
    </canvas>
</body>

</html>